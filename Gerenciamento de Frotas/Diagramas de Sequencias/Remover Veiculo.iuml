@startuml "Remover Veículo"
hide footbox

actor GestorFrota as gestor_ator
participant TelaListaVeiculos as tela_lista_veiculos
participant ControleVeiculo as controle_veiculo
participant BD as bd

gestor_ator -> tela_lista_veiculos: selecionarVeiculo(id_veiculo)
activate tela_lista_veiculos

tela_lista_veiculos -> controle_veiculo: verificarRemovibilidade(id_veiculo)
activate controle_veiculo

controle_veiculo -> bd: verificarVinculos(id_veiculo)
activate bd

alt veículo sem vínculo
    bd --> controle_veiculo: permitidoRemover
    controle_veiculo -> bd: removerVeiculo(id_veiculo)
    bd --> controle_veiculo: sucesso
    controle_veiculo -> tela_lista_veiculos: exibirMensagem("Veículo removido com sucesso")
else veículo vinculado a operação ativa
    bd --> controle_veiculo: erro("Veículo vinculado a operação ativa")
    controle_veiculo -> tela_lista_veiculos: exibirErro("Não é possível remover o veículo")
end

deactivate bd

deactivate controle_veiculo

deactivate tela_lista_veiculos
@enduml